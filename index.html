<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meu Github</title>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <header>
      <div class="container">
        <img class="profile-avatar" src="https://placehold.co/180x180" id="avatar" alt=".">

        <h1 class="profile-name" id="name"></h1>
        <h2 class="profile-username" id="username"></h2>
        <ul class="numbers">
          <li class="numbers-item">
            <h4>Repositórios</h4>
            <span id="repos"></span>
          </li>
          <li class="numbers-item">
            <h4>Seguidores</h4>
            <span id="followers"></span>
          </li>
          <li class="numbers-item">
            <h4>Seguindo</h4>
            <span id="following"></span>
          </li>
        </ul>
        <a href="#" id="link" class="profile-link">Ver no Github</a>
      </div>
    </header>

    <script>
      document.addEventListener("DOMContentLoaded", async () => {
        const nameElement = document.getElementById("name");
        const usernameElement = document.getElementById("username");
        const avatarElement = document.getElementById("avatar");
        const reposElement = document.getElementById("repos");
        const followersElement = document.getElementById("followers");
        const followingElement = document.getElementById("following");
        const linkElement = document.getElementById("link");

        const username = "Felipedev2-0";

        try {
          nameElement.innerText = "Carregando...";

          const response = await fetch(
            `https://api.github.com/users/${username}`
          );
          if (!response.ok) {
            throw new Error(`Erro ao buscar usuário: ${response.status}`);
          }

          const data = await response.json();

          nameElement.innerText = data.name;
          usernameElement.innerText = data.login;
          avatarElement.src = data.avatar_url;
          reposElement.innerText = data.public_repos;
          followersElement.innerText = data.followers;
          followingElement.innerText = data.following;
          linkElement.href = data.html_url;
          linkElement.innerText = `Ver perfil de ${data.login}`;
        } catch (error) {
          console.error("Erro:", error);
          nameElement.innerText = "Erro ao carregar dados";
        }
      });
    </script>
  </body>
</html>
